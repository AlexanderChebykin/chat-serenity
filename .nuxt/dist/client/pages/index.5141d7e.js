(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{215:function(e,t,n){var content=n(219);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(42).default)("635356f4",content,!0,{sourceMap:!1})},218:function(e,t,n){"use strict";var r=n(215);n.n(r).a},219:function(e,t,n){(t=n(41)(!1)).push([e.i,"#textarea[data-v-3e2af3e9]{margin-top:50px;margin-bottom:20px}",""]),e.exports=t},220:function(e,t,n){"use strict";n.r(t);n(108),n(43),n(44),n(29),n(87);var r=n(78),o=(n(56),n(18)),c=n(104);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function m(e){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(regeneratorRuntime.mark((function e(t){var n,data,r,body,o,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"GET",data=c.length>2&&void 0!==c[2]?c[2]:null,e.prev=2,r={},data&&(r["Content-Type"]="application/json",body=JSON.stringify({text:data.text,login:data.login,t:data.t})),e.next=7,fetch(t,{method:n,headers:r,body:body});case 7:return o=e.sent,e.next=10,o.json();case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(2),console.warn("Error:",e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}var d={data:function(){return{message:"",messages:[],loading:!1}},mounted:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.loading=!0,setInterval(Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m("http://localhost:3004/messages","GET");case 2:e.messages=t.sent;case 3:case"end":return t.stop()}}),t)}))),100),console.log(e.messages),e.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(c.b)(["login"])),methods:{onSubmit:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r,time;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Date,r=+n.getMonth()+1,time=n.getHours()+":"+n.getMinutes()+":"+n.getSeconds()+" "+n.getDate()+"."+r+"."+n.getFullYear(),console.log("объект",time),t.messages.push({text:t.message,login:t.login,t:time}),console.log("messages",t.messages),e.next=8,m("http://localhost:3004/messages","POST",{text:t.message,login:t.login,t:time});case 8:t.message="";case 9:case"end":return e.stop()}}),e)})))()},logout:function(){this.$store.dispatch("logout"),this.$router.push("/login")}}},v=(n(218),n(35)),h={components:{SendMessageForm:Object(v.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("b-form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[n("div",[n("b-form-textarea",{attrs:{id:"textarea",placeholder:"Enter your message...",rows:"3","max-rows":"6"},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1),e._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Submit")]),e._v(" "),n("b-button",{attrs:{variant:"danger"},on:{click:e.logout}},[e._v("Logout")])],1),e._v(" "),e._l(e.messages,(function(t,r){return n("div",{key:r},[n("b-card",{staticClass:"mt-3",attrs:{header:t.t+"   "+t.login+" send:"}},[n("pre",{staticClass:"m-0"},[e._v(e._s(t.text))])])],1)}))],2)}),[],!1,null,"3e2af3e9",null).exports},middleware:["auth"]},O=Object(v.a)(h,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("main",[t("div",{staticClass:"container"},[t("SendMessageForm"),this._v(" "),t("nuxt")],1)])])}),[],!1,null,null,null);t.default=O.exports}}]);